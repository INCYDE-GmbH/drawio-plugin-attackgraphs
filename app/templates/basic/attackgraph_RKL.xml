<mxfile host="Electron" modified="2022-05-05T11:57:58.667Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/18.0.0 Chrome/100.0.4896.143 Electron/18.2.0 Safari/537.36" etag="GqSbXMQEYx1ItIX5iLkA" compressed="false" version="18.0.0" type="device">
  <diagram id="zNMCXYOBYckHPa1j1fsk" name="Seite-1">
    <mxGraphModel dx="1102" dy="857" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <object tooltip="" id="0">
          <ag_global_attributes>
            <ag_global_attribute name="Resources" value="" iconName="hammer" min="0" max="5" />
            <ag_global_attribute name="Knowledge" value="" iconName="lightbulb" min="0" max="5" />
            <ag_global_attribute name="Location" value="" iconName="map_pin_ellipse" min="0" max="1" />
          </ag_global_attributes>
          <ag_attributes />
          <ag_computed_attributes />
          <ag_aggregation_functions>
            <ag_aggregation_function name="default" id="6b1d22791hih8" fn="function (collection) { &#xa;    var result = null; &#xa;    if (collection.childAttributes.length == 1) { &#xa;        result = collection.childAttributes[0].attributes; &#xa;    } else { &#xa;        var candidates = []; &#xa;        var worstValue = 0; &#xa;        collection.childAttributes.forEach(function(child) { &#xa;            var value = parseInt(child.computedAttribute); &#xa;            if (value &gt; worstValue) { &#xa;                worstValue = value; &#xa;                candidates = []; &#xa;                candidates.push(child); &#xa;            } else if (value == worstValue) { &#xa;                candidates.push(child); &#xa;            } &#xa;        }); &#xa;        var tiebreaker = function(candidates, name, max) { &#xa;            var min_value = max; &#xa;            candidates.forEach(function(node) { &#xa;                min_value = Math.min(min_value, node.attributes[name]); &#xa;            }); &#xa;            result = []; &#xa;            candidates.forEach(function(node) { &#xa;                if (node.attributes[name] == min_value) { &#xa;                    result.push(node); &#xa;                } &#xa;            }); &#xa;            return result; &#xa;        }; &#xa;        if (candidates.length &gt; 1) { &#xa;            candidates = tiebreaker(candidates, &quot;Resources&quot;, collection.globalAttributes[&quot;Resources&quot;].max); &#xa;            if (candidates.length &gt; 1) { &#xa;                candidates = tiebreaker(candidates, &quot;Knowledge&quot;, collection.globalAttributes[&quot;Knowledge&quot;].max); &#xa;            } &#xa;        } &#xa;        result = candidates[0].attributes; &#xa;    } &#xa;    return result; &#xa;}" />
            <ag_aggregation_function name="AND" id="gf0d4f199018" fn="function (collection) { &#xa;    var result = {}; &#xa;    collection.childAttributes.forEach(function(child) { &#xa;    for (var attribute in child.attributes) { &#xa;            if (attribute in result) { &#xa;                result[attribute] += parseInt(child.attributes[attribute]); &#xa;            } else { &#xa;                result[attribute] = parseInt(child.attributes[attribute]); &#xa;            } &#xa;        } &#xa;    }); &#xa;    for (var attribute in result) { &#xa;        if (attribute in collection.globalAttributes) { &#xa;            result[attribute] = Math.min(collection.globalAttributes[attribute].max, result[attribute]); &#xa;        } &#xa;    } &#xa;    return result; &#xa;}" />
            <ag_aggregation_function name="Security Control" id="73f575i0ghij5" fn="function (collection) { &#xa;    var result = {}; &#xa;    for (var attribute in collection.localAttributes) { &#xa;        result[attribute] = parseInt(collection.localAttributes[attribute]); &#xa;    } &#xa;    collection.childAttributes.forEach(function(child) { &#xa;        for (var attribute in child.attributes) { &#xa;            if (attribute in collection.globalAttributes) { &#xa;                if (attribute in result) { &#xa;                    result[attribute] += parseInt(child.attributes[attribute]); &#xa;                } &#xa;            } &#xa;        } &#xa;    }); &#xa;    for (var attribute in result) { &#xa;        if (attribute in collection.globalAttributes) { &#xa;            result[attribute] = Math.min(collection.globalAttributes[attribute].max, result[attribute]); &#xa;        } &#xa;    } &#xa;    return result; &#xa;}" />
            <ag_aggregation_function name="Risk" id="egf49jfgj408" fn="function (collection) { &#xa;    var minRisk = &quot;L&quot;;&#xa;    var matrix = [&#xa;        [&quot;L&quot;, &quot;L&quot;, &quot;L&quot;, &quot;L&quot;, &quot;L&quot;],&#xa;        [&quot;L&quot;, &quot;L&quot;, &quot;M&quot;, &quot;M&quot;, &quot;M&quot;],&#xa;        [&quot;L&quot;, &quot;M&quot;, &quot;M&quot;, &quot;S&quot;, &quot;S&quot;],&#xa;        [&quot;L&quot;, &quot;M&quot;, &quot;S&quot;, &quot;V&quot;, &quot;V&quot;],&#xa;        [&quot;L&quot;, &quot;M&quot;, &quot;S&quot;, &quot;V&quot;, &quot;V&quot;],&#xa;    ]&#xa;&#xa;    var compareRisk = function(risk1, risk2) {&#xa;        var values = [&quot;L&quot;, &quot;M&quot;, &quot;S&quot;, &quot;V&quot;];&#xa;        var index_risk1 = values.indexOf(risk1);&#xa;        var index_risk2 = values.indexOf(risk2);&#xa;&#xa;        if (index_risk1 == -1 || index_risk2 == -1) {&#xa;            return null;&#xa;        }&#xa;        return index_risk1 - index_risk2;&#xa;&#xa;    }&#xa;    &#xa;    collection.childAttributes.forEach(function(child) { &#xa;        var impact = 1; &#xa;        if (child.edgeWeight !== null) { &#xa;            impact = parseInt(child.edgeWeight); &#xa;        } &#xa;        risk = matrix[parseInt(child.computedAttribute) - 1][impact - 1];&#xa;        if (compareRisk(risk, minRisk) &gt; 0) {&#xa;            minRisk = risk;&#xa;        }&#xa;    }); &#xa; &#xa;    return {&#39;_risk&#39;: minRisk}; &#xa;}" />
          </ag_aggregation_functions>
          <ag_computed_attributes_functions>
            <ag_computed_attributes_function name="default" id="dbg60ff69g9a" fn="function (collection) { &#xa;    return Math.min(5, &#xa;        Math.max(collection.globalAttributes[&quot;Location&quot;].max, &#xa;            Math.max( &#xa;                parseInt(collection.globalAttributes[&quot;Knowledge&quot;].max) + 1 - parseInt(collection.cellAttributes[&quot;Knowledge&quot;]), &#xa;                parseInt(collection.globalAttributes[&quot;Resources&quot;].max) + 1 - parseInt(collection.cellAttributes[&quot;Resources&quot;]) &#xa;            ) - parseInt(collection.cellAttributes[&quot;Location&quot;])) &#xa;        ); &#xa;}" />
            <ag_computed_attributes_function name="Risk" id="6c831697g9i0a" fn="function(collection){ &#xa;    return collection.cellAttributes[&quot;_risk&quot;]; &#xa;}" />
          </ag_computed_attributes_functions>
          <mxCell />
        </object>
        <object tooltip="" id="1">
          <ag_attributes />
          <ag_computed_attributes />
          <mxCell parent="0" />
        </object>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
